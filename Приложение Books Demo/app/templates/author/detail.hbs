<div class="slide-out-bg"></div>

<div class="slide-out">
  <div class="slide-out-card">
    {{#link-to "author.index" class="btn-back"}}
      <span class="sr-only">Back</span>
    {{/link-to}}

    <div class="slide-out-heading">
      <div class="title">
        <h3>{{model.lastName}} {{model.firstName}}</h3>

        {{#if session.isAuthenticated}}
          <div class="actions">
            {{#link-to "author.edit" model.id class="btn-pop"}}
              edit
            {{/link-to}}

            <button class="btn-recessed" onclick={{action "deleteAuthor" model}}>delete</button>
          </div>
        {{/if}}
      </div>
    </div>

    <div class="slide-out-content">
      <div class="title">
        <h3>{{this.model.books.length}} Books from this author</h3>
      </div>

      {{#if this.session.isAuthenticated}}
        <div class="actions">
          {{#link-to "author.detail.new-book" model.id class="btn-secondary btn-add"}}
            Add a book
          {{/link-to}}
        </div>
      {{/if}}

      <ul class="book-list">
        {{#each model.books as |book|}}
          <li class="book">
            <p class="book-title">
              {{#link-to "book.detail" book}}
                {{book.title}}
              {{/link-to}}
            </p>
            <p class="book-isbn">
              {{book.isbn}}
            </p>
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</div>

{{outlet}}